<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä SVG –º–∞—Ä–∫–µ—Ä–æ–≤ - –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª—ã</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      background: #f5f5f5;
      padding: 20px;
      font-family: Arial, sans-serif;
      max-width: 1200px;
      margin: 0 auto;
    }
    .controls {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .marker-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
    }
    .marker-card {
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      text-align: center;
    }
    .marker-preview {
      border: 1px solid #ddd;
      background: white;
      margin: 10px 0;
    }
    .marker-label {
      font-weight: bold;
      color: #333;
      margin: 10px 0 5px;
    }
    .marker-key {
      font-size: 12px;
      color: #666;
      margin-bottom: 10px;
    }
    button {
      background: #3498db;
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    button:hover {
      background: #2980b9;
    }
    .download-all {
      background: #27ae60;
      padding: 12px 24px;
      font-size: 16px;
      margin-top: 20px;
    }
    .download-all:hover {
      background: #229954;
    }
  </style>
</head>
<body>
  <h1>üé® –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä SVG –º–∞—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π</h1>
  
  <div class="controls">
    <h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</h2>
    <ol>
      <li>–ù–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å –≤—Å–µ SVG" –¥–ª—è –º–∞—Å—Å–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ—Ö –º–∞—Ä–∫–µ—Ä–æ–≤</li>
      <li>–ò–ª–∏ –Ω–∞–∂–º–∏—Ç–µ "–°–∫–∞—á–∞—Ç—å SVG" –ø–æ–¥ –∫–∞–∂–¥—ã–º –º–∞—Ä–∫–µ—Ä–æ–º –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏</li>
      <li>–ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ SVG –≤ PNG (34x44px) –∏—Å–ø–æ–ª—å–∑—É—è:
        <ul>
          <li><a href="https://svgtopng.com/" target="_blank">SVG to PNG –æ–Ω–ª–∞–π–Ω</a></li>
          <li>Inkscape: <code>inkscape --export-filename=pin-{category}.png --export-width=34 --export-height=44 pin-{category}.svg</code></li>
          <li>–õ—é–±–æ–π –¥—Ä—É–≥–æ–π SVG‚ÜíPNG –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä</li>
        </ul>
      </li>
      <li>–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ PNG —Ñ–∞–π–ª—ã –≤ <code>frontend/public/markers/</code></li>
    </ol>
    <button class="download-all" onclick="downloadAll()">‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å –≤—Å–µ SVG —Ñ–∞–π–ª—ã</button>
  </div>

  <div class="marker-grid" id="markers-container"></div>

  <script>
    const categories = [
      { key: 'nature', label: '–ü—Ä–∏—Ä–æ–¥–∞', color: '#27ae60', icon: 'fa-leaf' },
      { key: 'restaurant', label: '–†–µ—Å—Ç–æ—Ä–∞–Ω', color: '#8B0000', icon: 'fa-utensils' },
      { key: 'hotel', label: '–û—Ç–µ–ª—å', color: '#8e44ad', icon: 'fa-hotel' },
      { key: 'attraction', label: '–î–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å', color: '#3498db', icon: 'fa-star' },
      { key: 'culture', label: '–ö—É–ª—å—Ç—É—Ä–∞', color: '#f1c40f', icon: 'fa-landmark' },
      { key: 'entertainment', label: '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', color: '#f39c12', icon: 'fa-gem' },
      { key: 'transport', label: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', color: '#16a085', icon: 'fa-bus' },
      { key: 'shopping', label: '–¢–æ—Ä–≥–æ–≤–ª—è', color: '#e67e22', icon: 'fa-wallet' },
      { key: 'healthcare', label: '–ó–¥—Ä–∞–≤–æ–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ', color: '#e74c3c', icon: 'fa-heart' },
      { key: 'education', label: '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', color: '#3498db', icon: 'fa-users' },
      { key: 'service', label: '–°–µ—Ä–≤–∏—Å', color: '#34495e', icon: 'fa-building' },
      { key: 'event', label: '–°–æ–±—ã—Ç–∏–µ', color: '#9b59b6', icon: 'fa-calendar-check' },
      { key: 'blog', label: '–ë–ª–æ–≥', color: '#2ecc71', icon: 'fa-pen-nib' },
      { key: 'route', label: '–ú–∞—Ä—à—Ä—É—Ç', color: '#f39c12', icon: 'fa-route' },
      { key: 'other', label: '–î—Ä—É–≥–æ–µ', color: '#7f8c8d', icon: 'fa-question' },
      { key: 'user', label: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ', color: '#e67e22', icon: 'fa-map-pin' }
    ];

    function lightenColor(hex, percent) {
      const num = parseInt(hex.replace('#', ''), 16);
      const r = Math.min(255, (num >> 16) + Math.floor((255 - (num >> 16)) * percent / 100));
      const g = Math.min(255, ((num >> 8) & 0x00FF) + Math.floor((255 - ((num >> 8) & 0x00FF)) * percent / 100));
      const b = Math.min(255, (num & 0x0000FF) + Math.floor((255 - (num & 0x0000FF)) * percent / 100));
      return `#${((r << 16) | (g << 8) | b).toString(16).padStart(6, '0')}`;
    }

    function generateMarkerSVG(category) {
      const darkColor = category.color;
      const lightColor = lightenColor(darkColor, 40);
      const gradientId = `gradient-${category.key}`;
      const shadowId = `shadow-${category.key}`;
      
      // –ü–æ–ª—É—á–∞–µ–º –∏–∫–æ–Ω–∫—É —á–µ—Ä–µ–∑ FontAwesome –∫–ª–∞—Å—Å
      const iconClass = category.icon;
      
      return `<?xml version="1.0" encoding="UTF-8"?>
<svg width="50" height="74" viewBox="-3 -3 50 74" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="${gradientId}" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="${darkColor}"/>
      <stop offset="100%" stop-color="${lightColor}"/>
    </linearGradient>
    <filter id="${shadowId}" x="-40%" y="-40%" width="180%" height="180%">
      <feDropShadow dx="0" dy="3" stdDeviation="4" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
    <style>
      @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css');
      .marker-icon { 
        font-size: 18px; 
        fill: ${darkColor}; 
        color: ${darkColor};
      }
    </style>
  </defs>
  <g filter="url(#${shadowId})">
    <path d="M22 0 C14 0, 0 8, 0 26 C0 42, 14 56, 22 68 C30 56, 44 42, 44 26 C44 8, 30 0, 22 0 Z"
          fill="url(#${gradientId})"
          stroke="#000000"
          stroke-width="1"/>
    <circle cx="22" cy="20" r="14" fill="white"/>
    <foreignObject x="8" y="6" width="28" height="28">
      <div xmlns="http://www.w3.org/1999/xhtml" style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 18px; color: ${darkColor};">
        <i class="fas ${iconClass}"></i>
      </div>
    </foreignObject>
  </g>
</svg>`;
    }

    function downloadSVG(category) {
      const svg = generateMarkerSVG(category);
      const blob = new Blob([svg], { type: 'image/svg+xml' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = category.key === 'user' ? 'pin-user.svg' : `pin-${category.key}.svg`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    function downloadAll() {
      categories.forEach((category, index) => {
        setTimeout(() => {
          downloadSVG(category);
        }, index * 200); // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–∫–∞—á–∏–≤–∞–Ω–∏—è–º–∏
      });
    }

    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä–∫–µ—Ä–æ–≤
    const container = document.getElementById('markers-container');
    categories.forEach(category => {
      const card = document.createElement('div');
      card.className = 'marker-card';
      card.innerHTML = `
        <div class="marker-label">${category.label}</div>
        <div class="marker-key">${category.key}</div>
        <div class="marker-preview">
          ${generateMarkerSVG(category)}
        </div>
        <button onclick="downloadSVG(${JSON.stringify(category).replace(/"/g, '&quot;')})">
          ‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å SVG
        </button>
      `;
      container.appendChild(card);
    });
  </script>
</body>
</html>

