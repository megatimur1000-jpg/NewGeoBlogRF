TravelCaledar.tsx
import React, { useState, useEffect } from 'react';
import { ChevronLeft, ChevronRight, Plane, Bed, Camera, Utensils, Bus, Backpack, Users, Share2 } from 'lucide-react';
import { Button } from './ui/button';
import { Card, CardContent } from './ui/card';
import { Badge } from './ui/badge';
import { mockEvents } from '../data/mockEvents';

const TravelCalendar = () => {
  const [currentDate, setCurrentDate] = useState(new Date(2024, 6, 1)); // Июль 2024
  const [selectedDate, setSelectedDate] = useState(null);
  const [showArchive, setShowArchive] = useState(false);
  const [archiveEvents, setArchiveEvents] = useState([]);

  const categories = [
    { id: 'flights', name: 'Авиабилеты', icon: Plane, color: 'bg-red-500', textColor: 'text-red-600' },
    { id: 'hotels', name: 'Отели', icon: Bed, color: 'bg-orange-500', textColor: 'text-orange-600' },
    { id: 'attractions', name: 'Достопримечательности', icon: Camera, color: 'bg-blue-500', textColor: 'text-blue-600' },
    { id: 'restaurants', name: 'Рестораны', icon: Utensils, color: 'bg-green-500', textColor: 'text-green-600' },
    { id: 'transport', name: 'Транспорт', icon: Bus, color: 'bg-purple-500', textColor: 'text-purple-600' },
    { id: 'tours', name: 'Экскурсии', icon: Backpack, color: 'bg-yellow-500', textColor: 'text-yellow-600' }
  ];

  const monthNames = [
    'Январь', 'Февраль', 'Март', 'Апрель', 'Май', 'Июнь',
    'Июль', 'Август', 'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь'
  ];

  const weekDays = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'];

  const getDaysInMonth = (date) => {
    const year = date.getFullYear();
    const month = date.getMonth();
    const daysInMonth = new Date(year, month + 1, 0).getDate();
    const firstDayOfMonth = new Date(year, month, 1).getDay();
    const startDate = firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1;
    
    const days = [];
    
    // Добавляем пустые дни для начала месяца
    for (let i = 0; i < startDate; i++) {
      days.push(null);
    }
    
    // Добавляем дни месяца
    for (let day = 1; day <= daysInMonth; day++) {
      days.push(day);
    }
    
    return days;
  };

  const getEventsForDate = (day) => {
    if (!day) return [];
    const dateKey = `${currentDate.getFullYear()}-${String(currentDate.getMonth() + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
    return mockEvents.filter(event => event.date === dateKey);
  };

  const handleDateClick = (day) => {
    if (!day) return;
    
    const clickedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), day);
    setSelectedDate(clickedDate);
    
    const events = getEventsForDate(day);
    setArchiveEvents(events);
    setShowArchive(true);
  };

  const navigateMonth = (direction) => {
    const newDate = new Date(currentDate);
    newDate.setMonth(currentDate.getMonth() + direction);
    setCurrentDate(newDate);
    setShowArchive(false);
  };

  const getCategoryById = (categoryId) => {
    return categories.find(cat => cat.id === categoryId);
  };

  const handleJoinEvent = (eventId) => {
    console.log('Присоединиться к событию:', eventId);
    // Здесь будет логика присоединения к событию
  };

  const handleShareEvent = (eventId) => {
    console.log('Поделиться событием:', eventId);
    // Здесь будет логика поделиться событием
  };

  return (
    <div className="max-w-7xl mx-auto p-6 bg-white">
      {/* Категории */}
      <div className="flex justify-center gap-8 mb-8">
        {categories.map((category) => {
          const IconComponent = category.icon;
          return (
            <div key={category.id} className="flex flex-col items-center cursor-pointer group">
              <div className={`w-16 h-16 rounded-full ${category.color} flex items-center justify-center mb-2 shadow-lg group-hover:shadow-xl transition-shadow duration-200`}>
                <IconComponent className="w-8 h-8 text-white" />
              </div>
              <span className={`text-sm font-medium ${category.textColor}`}>{category.name}</span>
            </div>
          );
        })}
      </div>

      <div className="flex gap-6">
        {/* Календарь */}
        <div className={`${showArchive ? 'w-2/3' : 'w-full'} transition-all duration-300`}>
          <Card className="shadow-lg">
            <CardContent className="p-6">
              {/* Заголовок календаря */}
              <div className="flex items-center justify-between mb-6">
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={() => navigateMonth(-1)}
                  className="hover:bg-gray-100"
                >
                  <ChevronLeft className="w-4 h-4" />
                </Button>
                <h2 className="text-2xl font-bold text-gray-800">
                  {monthNames[currentDate.getMonth()]} {currentDate.getFullYear()}
                </h2>
                <Button
                  variant="ghost"
                  size="sm"
                  onClick={() => navigateMonth(1)}
                  className="hover:bg-gray-100"
                >
                  <ChevronRight className="w-4 h-4" />
                </Button>
              </div>

              {/* Дни недели */}
              <div className="grid grid-cols-7 gap-1 mb-2">
                {weekDays.map((day) => (
                  <div key={day} className="text-center text-sm font-medium text-gray-600 py-2">
                    {day}
                  </div>
                ))}
              </div>

              {/* Дни месяца */}
              <div className="grid grid-cols-7 gap-1">
                {getDaysInMonth(currentDate).map((day, index) => {
                  const events = getEventsForDate(day);
                  const hasEvents = events.length > 0;
                  
                  return (
                    <div
                      key={index}
                      className={`min-h-24 p-2 border border-gray-200 rounded-lg cursor-pointer transition-all duration-200 ${
                        day ? 'hover:bg-gray-50' : ''
                      } ${hasEvents ? 'bg-blue-50' : ''}`}
                      onClick={() => handleDateClick(day)}
                    >
                      {day && (
                        <>
                          <div className="text-sm font-medium text-gray-700 mb-1">{day}</div>
                          {events.map((event) => {
                            const category = getCategoryById(event.categoryId);
                            const IconComponent = category.icon;
                            return (
                              <div key={event.id} className="flex items-center justify-between mb-1">
                                <div className="flex items-center gap-1">
                                  <div className={`w-4 h-4 rounded-full ${category.color} flex items-center justify-center`}>
                                    <IconComponent className="w-2 h-2 text-white" />
                                  </div>
                                  <span className="text-xs text-gray-600 truncate">{event.title}</span>
                                </div>
                                <div className="flex gap-1">
                                  <Button
                                    size="sm"
                                    variant="ghost"
                                    className="w-5 h-5 p-0 hover:bg-blue-100"
                                    onClick={(e) => {
                                      e.stopPropagation();
                                      handleJoinEvent(event.id);
                                    }}
                                  >
                                    <Users className="w-3 h-3 text-blue-600" />
                                  </Button>
                                  <Button
                                    size="sm"
                                    variant="ghost"
                                    className="w-5 h-5 p-0 hover:bg-green-100"
                                    onClick={(e) => {
                                      e.stopPropagation();
                                      handleShareEvent(event.id);
                                    }}
                                  >
                                    <Share2 className="w-3 h-3 text-green-600" />
                                  </Button>
                                </div>
                              </div>
                            );
                          })}
                        </>
                      )}
                    </div>
                  );
                })}
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Архив событий */}
        {showArchive && (
          <div className="w-1/3 transition-all duration-300">
            <Card className="shadow-lg">
              <CardContent className="p-6">
                <div className="flex items-center justify-between mb-4">
                  <h3 className="text-lg font-bold text-gray-800">
                    Архив событий
                  </h3>
                  <Button
                    variant="ghost"
                    size="sm"
                    onClick={() => setShowArchive(false)}
                    className="hover:bg-gray-100"
                  >
                    ✕
                  </Button>
                </div>
                
                {selectedDate && (
                  <div className="mb-4">
                    <p className="text-sm text-gray-600">
                      {selectedDate.toLocaleDateString('ru-RU', { 
                        weekday: 'long', 
                        year: 'numeric', 
                        month: 'long', 
                        day: 'numeric' 
                      })}
                    </p>
                  </div>
                )}

                <div className="space-y-4">
                  {archiveEvents.length > 0 ? (
                    archiveEvents.map((event) => {
                      const category = getCategoryById(event.categoryId);
                      const IconComponent = category.icon;
                      return (
                        <div key={event.id} className="border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors duration-200">
                          <div className="flex items-start gap-3">
                            <div className={`w-8 h-8 rounded-full ${category.color} flex items-center justify-center flex-shrink-0`}>
                              <IconComponent className="w-4 h-4 text-white" />
                            </div>
                            <div className="flex-1">
                              <h4 className="font-medium text-gray-800 mb-1">{event.title}</h4>
                              <p className="text-sm text-gray-600 mb-2">{event.description}</p>
                              <div className="flex gap-2 mb-2">
                                {event.hashtags.map((tag, index) => (
                                  <Badge key={index} variant="secondary" className="text-xs">
                                    #{tag}
                                  </Badge>
                                ))}
                              </div>
                              <div className="flex gap-2">
                                <Button
                                  size="sm"
                                  className="bg-blue-600 hover:bg-blue-700 text-white"
                                  onClick={() => handleJoinEvent(event.id)}
                                >
                                  <Users className="w-3 h-3 mr-1" />
                                  Присоединиться
                                </Button>
                                <Button
                                  size="sm"
                                  variant="outline"
                                  className="border-green-600 text-green-600 hover:bg-green-50"
                                  onClick={() => handleShareEvent(event.id)}
                                >
                                  <Share2 className="w-3 h-3 mr-1" />
                                  Поделиться
                                </Button>
                              </div>
                            </div>
                          </div>
                        </div>
                      );
                    })
                  ) : (
                    <div className="text-center py-8 text-gray-500">
                      <p>На эту дату событий нет</p>
                    </div>
                  )}
                </div>
              </CardContent>
            </Card>
          </div>
        )}
      </div>
    </div>
  );
};

export default TravelCalendar;




mockEvents.js


export const mockEvents = [
  {
    id: 1,
    title: 'Авиабилеты в Париж',
    description: 'Специальные цены на авиабилеты в Париж. Скидка до 30% при бронировании до конца месяца.',
    date: '2024-07-05',
    categoryId: 'flights',
    hashtags: ['париж', 'авиабилеты', 'скидка']
  },
  {
    id: 2,
    title: 'Отель "Маритим"',
    description: 'Роскошный отель в центре Сочи с видом на море. Завтрак включен.',
    date: '2024-07-05',
    categoryId: 'hotels',
    hashtags: ['сочи', 'отель', 'море']
  },
  {
    id: 3,
    title: 'Экскурсия в Эрмитаж',
    description: 'Увлекательная экскурсия по залам Эрмитажа с профессиональным гидом.',
    date: '2024-07-12',
    categoryId: 'tours',
    hashtags: ['спб', 'эрмитаж', 'культура']
  },
  {
    id: 4,
    title: 'Ресторан "Белуга"',
    description: 'Изысканная русская кухня в самом сердце Москвы. Столик на террасе.',
    date: '2024-07-12',
    categoryId: 'restaurants',
    hashtags: ['москва', 'ресторан', 'терраса']
  },
  {
    id: 5,
    title: 'Трансфер в аэропорт',
    description: 'Комфортный трансфер на премиум автомобиле. Встреча с табличкой.',
    date: '2024-07-15',
    categoryId: 'transport',
    hashtags: ['трансфер', 'аэропорт', 'комфорт']
  },
  {
    id: 6,
    title: 'Красная площадь',
    description: 'Фотосессия на Красной площади с профессиональным фотографом.',
    date: '2024-07-18',
    categoryId: 'attractions',
    hashtags: ['москва', 'красная площадь', 'фото']
  },
  {
    id: 7,
    title: 'Круиз по Неве',
    description: 'Романтический круиз по Неве с ужином и живой музыкой.',
    date: '2024-07-20',
    categoryId: 'tours',
    hashtags: ['спб', 'нева', 'круиз']
  },
  {
    id: 8,
    title: 'Билеты в Большой',
    description: 'Премьера балета "Лебединое озеро" в Большом театре.',
    date: '2024-07-22',
    categoryId: 'attractions',
    hashtags: ['москва', 'балет', 'большой театр']
  },
  {
    id: 9,
    title: 'Отель "Астория"',
    description: 'Исторический отель в центре Санкт-Петербурга. Номер класса люкс.',
    date: '2024-07-25',
    categoryId: 'hotels',
    hashtags: ['спб', 'астория', 'люкс']
  },
  {
    id: 10,
    title: 'Кафе "Пушкин"',
    description: 'Знаменитое кафе с авторской кухней и уютной атмосферой.',
    date: '2024-07-25',
    categoryId: 'restaurants',
    hashtags: ['москва', 'пушкин', 'авторская кухня']
  },
  {
    id: 11,
    title: 'Аренда авто',
    description: 'Прокат автомобилей премиум класса для путешествий по России.',
    date: '2024-07-28',
    categoryId: 'transport',
    hashtags: ['аренда', 'авто', 'путешествия']
  },
  {
    id: 12,
    title: 'Тур в Казань',
    description: 'Двухдневный тур в Казань с посещением Кремля и Кул Шариф.',
    date: '2024-07-30',
    categoryId: 'tours',
    hashtags: ['казань', 'кремль', 'тур']
  }
];


App.js

import React from "react";
import "./App.css";
import { BrowserRouter, Routes, Route } from "react-router-dom";
import TravelCalendar from "./components/TravelCalendar";

function App() {
  return (
    <div className="App">
      <BrowserRouter>
        <Routes>
          <Route path="/" element={<TravelCalendar />} />
        </Routes>
      </BrowserRouter>
    </div>
  );
}

export default App;