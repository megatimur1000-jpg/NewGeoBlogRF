Проблема: После внедрения фасада карты контент загружается только после "оживления" бэкенда, что указывает на проблемы в архитектуре инициализации и загрузки данных.
Причина: Фасад карты использует заглушки вместо реальных реализаций рендереров, что приводит к неработоспособности системы.
Подробный Todo-план для исправления:


Реализация реального OSMMapRenderer

Создать полноценную реализацию OSMMapRenderer с использованием Leaflet
Реализовать методы: init, renderMarkers, renderRoute, setView, destroy
Добавить обработку ошибок и логирование

Настройка корректной инициализации карты

Убедиться, что инициализация карты происходит при монтировании компонента
Добавить проверку видимости контейнера карты перед инициализацией
Реализовать механизм автоматической перезагрузки при изменении видимости

Восстановление связи с бэкендом

Настроить вызов backend API для получения данных маркеров и маршрутов
Реализовать обработку ответа от сервера и отображение данных на карте
Добавить индикаторы загрузки и обработку ошибок

Исправление системы зависимостей

Проверить и настроить правильную передачу зависимостей в MapContextFacade
Убедиться, что все сервисы (storageService, moderationService и др.) доступны
Добавить проверку наличия необходимых сервисов при инициализации

Тестирование и отладка

Добавить логирование ключевых этапов инициализации
Создать тесты для проверки корректной работы фасада
Проверить работу в различных сценариях (онлайн/оффлайн, разные контексты)