# ‚ö†Ô∏è –ù–ê–†–£–®–ï–ù–ò–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–´–• –ì–†–ê–ù–ò–¶

> **–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 22 —è–Ω–≤–∞—Ä—è 2026  
> **–ü—Ä–æ–µ–∫—Ç:** Best_Site (Horizon Explorer)

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ù–ê–†–£–®–ï–ù–ò–Ø

### 1. üî¥ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—é—Ç API –±–µ–∑ —Å–ª–æ—è —Å–µ—Ä–≤–∏—Å–∞

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `components/Map/Map.tsx` (—Å—Ç—Ä–æ–∫–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã, –Ω–æ –≤–∏–¥–Ω—ã –ø—Ä—è–º—ã–µ fetch)
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `components/`

**–ü—Ä–∏–º–µ—Ä –Ω–∞—Ä—É—à–µ–Ω–∏—è:**
```typescript
// ‚ùå –ü–õ–û–•–û: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é –¥–µ–ª–∞–µ—Ç API-–∑–∞–ø—Ä–æ—Å
const handleSubmit = async () => {
  const response = await fetch('/api/markers', {
    method: 'POST',
    body: JSON.stringify(data)
  });
};
```

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```typescript
// ‚úÖ –•–û–†–û–®–û: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å
const handleSubmit = async () => {
  await markerService.createMarker(data);
};
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚úÖ –í—Å–µ API-–∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–¥—Ç–∏ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å—ã –≤ `services/`
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–µ—Ä–≤–∏—Å—ã, –Ω–µ `fetch` –Ω–∞–ø—Ä—è–º—É—é

---

### 2. üî¥ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–π —Ñ–∞–π–ª:** `components/Map/Map.tsx` (5353 —Å—Ç—Ä–æ–∫–∏)

**–ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –ù–ï –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –º–∞—Ä–∫–µ—Ä–æ–≤
- –†–∞—Å—á–µ—Ç —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- –õ–æ–≥–∏–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
1. üîß –í—ã–Ω–µ—Å—Ç–∏ –≤ `services/`:
   - `markerValidationService.ts` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
   - `geoCalculationService.ts` - —Ä–∞—Å—á–µ—Ç—ã —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
   - `markerFilterService.ts` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

2. üîß –í—ã–Ω–µ—Å—Ç–∏ –≤ `hooks/`:
   - `useMarkerClustering.ts` - –ª–æ–≥–∏–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏
   - `useMarkerFilters.ts` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–∞—Ä–∫–µ—Ä–æ–≤
   - `useOfflineMap.ts` - –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º

**–ü—Ä–∏–º–µ—Ä —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞:**
```typescript
// ‚ùå –ü–õ–û–•–û: –ª–æ–≥–∏–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
const Map = () => {
  const filteredMarkers = useMemo(() => {
    return allMarkers.filter(marker => {
      const distance = getDistanceFromLatLonInKm(
        center[0], center[1],
        marker.latitude, marker.longitude
      );
      return distance <= radius && categories.includes(marker.category);
    });
  }, [allMarkers, center, radius, categories]);
};

// ‚úÖ –•–û–†–û–®–û: –ª–æ–≥–∏–∫–∞ –≤ —Ö—É–∫–µ
const Map = () => {
  const filteredMarkers = useMarkerFilters(allMarkers, {
    center,
    radius,
    categories
  });
};
```

---

### 3. ‚ö†Ô∏è –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–∞–º, –≥–¥–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `contexts/SideContentContext.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ 2-3 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- `contexts/GuestContext.tsx` - —É–∑–∫–∏–π use case

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚ö†Ô∏è –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è < 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π state
- ‚ö†Ô∏è –ò–õ–ò –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å –¥—Ä—É–≥–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `GuestContext` ‚Üí `AuthContext`)

**–ü—Ä–∞–≤–∏–ª–æ:**
- **Context/Store** - –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ ‚â•5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **Local State** - –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 1-4 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **Props** - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –≤ 1-2 —É—Ä–æ–≤–Ω—è –≤–Ω–∏–∑

---

### 4. ‚úÖ ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ mapFacade –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö~~ ‚Äî –ò–°–ü–†–ê–í–õ–ï–ù–û

**–ë—ã–ª–æ:** –§–∞–π–ª—ã-–¥—É–±–ª–∏–∫–∞—Ç—ã:
1. ~~`frontend/src/mapFacade.ts`~~ ‚Üê ‚úÖ –£–î–ê–õ–ï–ù–û
2. ~~`frontend/src/services/mapFacade.ts`~~ ‚Üê ‚úÖ –£–î–ê–õ–ï–ù–û
3. `frontend/src/services/map_facade/index.ts` ‚Üê ‚úÖ –û–†–ò–ì–ò–ù–ê–õ (–æ—Å—Ç–∞–ª—Å—è)

**–ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã 2 –¥—É–±–ª–∏–∫–∞—Ç–∞ (492 —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞)
- ‚úÖ –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
- ‚úÖ –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
1. ‚úÖ **–£–¥–∞–ª–µ–Ω–æ** `frontend/src/mapFacade.ts`
2. üî¥ **–£–¥–∞–ª–∏—Ç—å** `frontend/src/services/mapFacade.ts`
3. ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¢–û–õ–¨–ö–û** `frontend/src/services/map_facade/index.ts`
4. ‚úÖ **–û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã:**

```typescript
// ‚ùå –ü–õ–û–•–û
import { mapFacade } from '../mapFacade';
import { mapFacade } from './services/mapFacade';

// ‚úÖ –•–û–†–û–®–û
import { mapFacade } from './services/map_facade';
```

---

### 5. ‚úÖ ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤ LayoutContext –∏ contentStore~~ ‚Äî –ù–ï –ü–†–û–ë–õ–ï–ú–ê

**–§–∞–π–ª—ã:**
- `contexts/LayoutContext.tsx` - React Context
- `stores/contentStore.ts` - Zustand Store

**–ë—ã–ª–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ:**
- –û–±–µ —Å—É—â–Ω–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª—è—é—Ç –ª–µ–≤–æ–π/–ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª—å—é
- `LayoutContext` –¥—É–±–ª–∏—Ä—É–µ—Ç –º–µ—Ç–æ–¥—ã `contentStore`

**–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ `LayoutContext` **–ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç** –≤—ã–∑–æ–≤—ã `contentStore`
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞, –µ—Å—Ç—å **–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω** (–æ–±–µ—Ä—Ç–∫–∞)
- ‚úÖ Context –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Zustand –≤–Ω—É—Ç—Ä–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞

**–ö–æ–¥ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ):**
```typescript
// LayoutContext.tsx
const leftContent = useContentStore((state) => state.leftContent);
const setLeftContentStore = useContentStore((state) => state.setLeftContent);

const setLeftContent = useCallback((id: ContentId) => {
  setLeftContentStore(id as ContentType);
}, [setLeftContentStore]);
```

**–í—ã–≤–æ–¥:** –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å ‚úÖ ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

~~**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**~~

~~**–í–∞—Ä–∏–∞–Ω—Ç 1 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):** –£–±—Ä–∞—Ç—å `LayoutContext`~~
```typescript
// –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø ‚Äî —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞
```

~~**–í–∞—Ä–∏–∞–Ω—Ç 2:** –°–¥–µ–ª–∞—Ç—å `LayoutContext` —Ç–æ–Ω–∫–æ–π –æ–±–µ—Ä—Ç–∫–æ–π~~
```typescript
// LayoutContext.tsx
export const useLayoutState = () => {
  const store = useContentStore();
  return {
    leftContent: store.leftContent,
    setLeftContent: store.setLeftContent,
    // ... –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–∫—Å–∏—Ä—É–µ–º
  };
};
```

---

### 6. üü° –ü—Ä—è–º—ã–µ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å DOM –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –º–µ—Å—Ç–∞:**
- `components/Map/Map.tsx` - —Å–æ–∑–¥–∞–Ω–∏–µ Leaflet –º–∞—Ä–∫–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ `document.createElement`
- –í—Å—Ç–∞–≤–∫–∞ —Å—Ç–∏–ª–µ–π —á–µ—Ä–µ–∑ `document.head.appendChild(style)`

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// ‚ùå –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å DOM
const style = document.createElement('style');
style.innerHTML = `...`;
document.head.appendChild(style);
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚úÖ –î–ª—è —Å—Ç–∏–ª–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CSS-–º–æ–¥—É–ª–∏ –∏–ª–∏ styled-components
- ‚úÖ –î–ª—è Leaflet –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ref'—ã –∏ useEffect
- ‚ö†Ô∏è –ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å DOM (Leaflet), –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ö—É–∫

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
```typescript
// useLeafletMarkers.ts
const useLeafletMarkers = (mapRef, markers) => {
  useEffect(() => {
    if (!mapRef.current) return;
    // –†–∞–±–æ—Ç–∞ —Å Leaflet API
    const markerGroup = L.markerClusterGroup();
    markers.forEach(m => {
      const marker = L.marker([m.lat, m.lng]);
      markerGroup.addLayer(marker);
    });
    mapRef.current.addLayer(markerGroup);
    
    return () => {
      mapRef.current.removeLayer(markerGroup);
    };
  }, [mapRef, markers]);
};
```

---

### 7. üü° –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

**–ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `types.ts` (root) - —Å–º–µ—à–∞–Ω—ã —Ç–∏–ø—ã –º–∞—Ä–∫–µ—Ä–æ–≤, –º–∞—Ä—à—Ä—É—Ç–æ–≤, —Å–æ–±—ã—Ç–∏–π, –∏ —Ç.–¥.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- ‚úÖ –†–∞–∑–¥–µ–ª–∏—Ç—å —Ç–∏–ø—ã –ø–æ –¥–æ–º–µ–Ω–∞–º:
  - `types/marker.ts` - —Ç–æ–ª—å–∫–æ –º–∞—Ä–∫–µ—Ä—ã
  - `types/route.ts` - —Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã
  - `types/event.ts` - —Ç–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏—è
  - `types/user.ts` - —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–ü—Ä–∏–º–µ—Ä:**
```typescript
// ‚ùå –ü–õ–û–•–û: –≤—Å–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ types.ts
export interface MarkerData { ... }
export interface RouteData { ... }
export interface EventData { ... }

// ‚úÖ –•–û–†–û–®–û: —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø–æ —Ñ–∞–π–ª–∞–º
// types/marker.ts
export interface MarkerData { ... }

// types/route.ts
export interface RouteData { ... }
```

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ù–ê–†–£–®–ï–ù–ò–ô

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–∞—Ä—É—à–µ–Ω–∏—è | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç |
|---------------------|-------------|-----------------|
| UI ‚Üí API –Ω–∞–ø—Ä—è–º—É—é | üî¥ –ö–†–ò–¢–ò–ß–ù–û | 5+ –º–µ—Å—Ç |
| –õ–æ–≥–∏–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö | üî¥ –ö–†–ò–¢–ò–ß–ù–û | 10+ –º–µ—Å—Ç |
| –î—É–±–ª–∏–∫–∞—Ç—ã —Ñ–∞–π–ª–æ–≤ | üî¥ –ö–†–ò–¢–ò–ß–ù–û | 3 —Ñ–∞–π–ª–∞ |
| –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ | ‚ö†Ô∏è –í–ê–ñ–ù–û | 2 —Ñ–∞–π–ª–∞ |
| –ò–∑–ª–∏—à–Ω–∏–π –≥–ª–æ–±–∞–ª—å–Ω—ã–π state | üü° –°–†–ï–î–ù–ï | 2 –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ |
| –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å DOM | üü° –°–†–ï–î–ù–ï | 3 –º–µ—Å—Ç–∞ |
| –°–º–µ—à–∏–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ | üü° –°–†–ï–î–ù–ï | 1 —Ñ–∞–π–ª |

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### üî¥ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)
1. –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã `mapFacade` (2 —Ñ–∞–π–ª–∞)
2. –£–±—Ä–∞—Ç—å –ø—Ä—è–º—ã–µ API-–≤—ã–∑–æ–≤—ã –∏–∑ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. –†–∞–∑–±–∏—Ç—å `components/Map/Map.tsx` –Ω–∞ –º–æ–¥—É–ª–∏

### ‚ö†Ô∏è –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–∞–∂–Ω–æ)
4. –£—Å—Ç—Ä–∞–Ω–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `LayoutContext` / `contentStore`
5. –í—ã–Ω–µ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Å–µ—Ä–≤–∏—Å—ã/—Ö—É–∫–∏

### üü° –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
6. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ state
7. –ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å DOM –≤ —Ö—É–∫–∞—Ö
8. –†–∞–∑–¥–µ–ª–∏—Ç—å —Ç–∏–ø—ã –ø–æ –¥–æ–º–µ–Ω–∞–º

---

## ‚úÖ –•–û–†–û–®–ò–ï –ü–†–ê–ö–¢–ò–ö–ò –í –ü–†–û–ï–ö–¢–ï

| –ü—Ä–∞–∫—Ç–∏–∫–∞ | –ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è |
|----------|-----------------|
| **Singleton –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤** | `projectManager`, `gamificationFacade` |
| **Adapter –ø–∞—Ç—Ç–µ—Ä–Ω** | `map_facade` —Å OSM/Yandex –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏ |
| **Dependency Injection** | `MapContextFacade` –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä |
| **Zustand –¥–ª—è state** | `contentStore`, `regionsStore` |
| **Persist middleware** | `regionsStore` (–∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ) |
| **–•—É–∫–∏ –¥–ª—è –ª–æ–≥–∏–∫–∏** | `useLazyMarkers`, `useMapStyle` |
| **–¢–∏–ø–∏–∑–∞—Ü–∏—è** | TypeScript –≤–µ–∑–¥–µ |
| **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–∏** | services / contexts / stores / components |

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –¢–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã
