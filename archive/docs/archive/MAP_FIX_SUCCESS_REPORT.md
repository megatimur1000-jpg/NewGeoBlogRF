# ‚úÖ –£–°–ü–ï–®–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ö–ê–†–¢–´ - –û–¢–ß–ï–¢

## üéØ –ü–†–û–ë–õ–ï–ú–ê –ë–´–õ–ê –†–ï–®–ï–ù–ê!

**–î–∞—Ç–∞:** 14.11.2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö–ê–†–¢–ê –†–ê–ë–û–¢–ê–ï–¢! OpenStreetMap –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

---

## üîç –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê –ü–†–û–ë–õ–ï–ú–´

### –ì–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞: `leafletAdapter.ts` –ù–ï —Å–æ–∑–¥–∞–≤–∞–ª tileLayer

**–§–∞–π–ª:** `frontend/src/services/mapFacade/leafletAdapter.ts`  
**–°—Ç—Ä–æ–∫–∞ 37-38 (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è):**
```typescript
// –ù–ï —Å–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–π tileLayer –∑–¥–µ—Å—å - –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ Map.tsx –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Map.tsx –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å getTileLayer() –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –§–∞—Å–∞–¥ —Å–æ–∑–¥–∞–≤–∞–ª –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ `L.map()`, –Ω–æ –ë–ï–ó tileLayer
- –ë–µ–∑ tileLayer –∫–∞—Ä—Ç–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è (–ø—É—Å—Ç–æ–π —Å–µ—Ä—ã–π —ç–∫—Ä–∞–Ω)
- Map.tsx –ø—ã—Ç–∞–ª—Å—è –¥–æ–±–∞–≤–∏—Ç—å tileLayer –ü–û–°–õ–ï –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ä—Ç—ã, –Ω–æ —ç—Ç–æ –Ω–µ –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–ª–æ
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –∫–∞—Ä—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∞—Å—å, –Ω–æ –±—ã–ª–∞ –Ω–µ–≤–∏–¥–∏–º–∞

---

## ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: leafletAdapter.ts - –í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–µ—Ç tileLayer

**–§–∞–π–ª:** `frontend/src/services/mapFacade/leafletAdapter.ts`  
**–°—Ç—Ä–æ–∫–∏ 37-45:**

**–ë–´–õ–û:**
```typescript
// –ù–ï —Å–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–π tileLayer –∑–¥–µ—Å—å - –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –≤ Map.tsx –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è
// –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Map.tsx –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å getTileLayer() –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã
```

**–°–¢–ê–õ–û:**
```typescript
// –ö–†–ò–¢–ò–ß–ù–û: –í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–µ–º –±–∞–∑–æ–≤—ã–π tileLayer (OpenStreetMap –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
// –ë–µ–∑ tileLayer –∫–∞—Ä—Ç–∞ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è!
// Map.tsx –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å –µ–≥–æ –ø–æ–∑–∂–µ —á–µ—Ä–µ–∑ getTileLayer() –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
const defaultTileLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '¬© OpenStreetMap contributors',
  maxZoom: 19,
  subdomains: 'abc'
});
defaultTileLayer.addTo(map);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–∞—Ä—Ç–∞ –í–°–ï–ì–î–ê –∏–º–µ–µ—Ç tileLayer –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ OpenStreetMap –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É
- ‚úÖ Map.tsx –º–æ–∂–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å tileLayer –Ω–∞ –¥—Ä—É–≥–æ–π —Ç–∏–ø –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## ‚úÖ –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: –£–±—Ä–∞–Ω fallback –æ–±—Ö–æ–¥ —Ñ–∞—Å–∞–¥–∞ –≤ Map.tsx

**–§–∞–π–ª:** `frontend/src/components/Map/Map.tsx`  
**–°—Ç—Ä–æ–∫–∏ 466-470:**

**–ë–´–õ–û:**
```typescript
if (!map) {
  // –ï—Å–ª–∏ —Ñ–∞—Å–∞–¥ –Ω–µ –≤–µ—Ä–Ω—É–ª –∫–∞—Ä—Ç—É, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Leaflet
  // –≠—Ç–æ fallback –¥–ª—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ —Ñ–∞—Å–∞–¥ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç getMap()
  console.warn('‚ö†Ô∏è –§–∞—Å–∞–¥ –Ω–µ –≤–µ—Ä–Ω—É–ª –∫–∞—Ä—Ç—É, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Leaflet');
  // ... —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ L.map()
}
```

**–°–¢–ê–õ–û:**
```typescript
if (!map) {
  // –ö–†–ò–¢–ò–ß–ù–û: –§–∞—Å–∞–¥ –û–ë–Ø–ó–ê–ù –≤–µ—Ä–Ω—É—Ç—å –∫–∞—Ä—Ç—É!
  // –ï—Å–ª–∏ –∫–∞—Ä—Ç–∞ –Ω–µ –ø–æ–ª—É—á–µ–Ω–∞ - —ç—Ç–æ –æ—à–∏–±–∫–∞, –Ω–µ –¥–µ–ª–∞–µ–º fallback
  throw new Error('–§–∞—Å–∞–¥ –Ω–µ –≤–µ—Ä–Ω—É–ª –∫–∞—Ä—Ç—É –ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ leafletAdapter.');
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ù–µ—Ç –æ–±—Ö–æ–¥–æ–≤ —Ñ–∞—Å–∞–¥–∞
- ‚úÖ –í—Å–µ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π —Ñ–∞—Å–∞–¥
- ‚úÖ –û—à–∏–±–∫–∏ –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É, –∞ –Ω–µ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è fallback'–æ–º

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 3: –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å tileLayer –≤ Map.tsx

**–§–∞–π–ª:** `frontend/src/components/Map/Map.tsx`  
**–°—Ç—Ä–æ–∫–∏ 496-531:**

**–ë–´–õ–û:**
```typescript
// –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ tileLayer (–µ—Å–ª–∏ –µ—Å—Ç—å) –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ
map.eachLayer((layer: any) => {
  if (layer instanceof L.TileLayer) {
    map.removeLayer(layer);
  }
});
// –í–°–ï–ì–î–ê –¥–æ–±–∞–≤–ª—è–µ–º tileLayer - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç—ã
const tileLayer = L.tileLayer(...).addTo(map);
```

**–°–¢–ê–õ–û:**
```typescript
// –ù–∞—Ö–æ–¥–∏–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π tileLayer (—Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞—Å–∞–¥–æ–º)
let existingTileLayer: L.TileLayer | null = null;
map.eachLayer((layer: any) => {
  if (layer instanceof L.TileLayer) {
    existingTileLayer = layer;
  }
});

// –ï—Å–ª–∏ —Ç–∏–ø –∫–∞—Ä—Ç—ã –Ω–µ 'light' (OpenStreetMap –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - –∑–∞–º–µ–Ω—è–µ–º
const tileLayerInfo = getTileLayer(mapSettings.mapType);
const needsReplacement = mapSettings.mapType !== 'light' || 
                         (existingTileLayer && existingTileLayer.getAttribution()?.indexOf(tileLayerInfo.attribution) === -1);

if (needsReplacement && existingTileLayer) {
  map.removeLayer(existingTileLayer);
  existingTileLayer = null;
}

// –î–æ–±–∞–≤–ª—è–µ–º –Ω—É–∂–Ω—ã–π tileLayer –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –∏–ª–∏ –æ–Ω –±—ã–ª –∑–∞–º–µ–Ω–µ–Ω
if (!existingTileLayer) {
  const tileLayer = L.tileLayer(tileLayerInfo.url, {...}).addTo(map);
  tileLayerRef.current = tileLayer;
} else {
  tileLayerRef.current = existingTileLayer;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ù–µ —É–¥–∞–ª—è–µ–º tileLayer –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º tileLayer –æ—Ç —Ñ–∞—Å–∞–¥–∞, –µ—Å–ª–∏ –æ–Ω –ø–æ–¥—Ö–æ–¥–∏—Ç
- ‚úÖ –ó–∞–º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ç–∏–ø–∞ –∫–∞—Ä—Ç—ã

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 4: –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã –¥–ª—è –ø–æ–ø–∞–ø–æ–≤

**–§–∞–π–ª:** `frontend/src/components/Map/Map.tsx`  
**–°—Ç—Ä–æ–∫–∏ 896-924:**

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```typescript
// –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞—Ä—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
if (!mapRef.current) {
  setTimeout(() => { ... }, 100);
  return;
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–∞—Ä—Ç–∞ –∏–º–µ–µ—Ç tileLayer (–ø—Ä–∏–∑–Ω–∞–∫ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
let hasTileLayer = false;
mapRef.current.eachLayer((layer: any) => {
  if (layer instanceof L.TileLayer) {
    hasTileLayer = true;
  }
});

if (!hasTileLayer) {
  setTimeout(() => { ... }, 200);
  return;
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ü–æ–ø–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ø–∞–ø–æ–≤
- ‚úÖ –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 5: –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–π –≥—Ä—É–ø–ø—ã –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –æ—Ç —Ñ–∞—Å–∞–¥–∞

**–§–∞–π–ª:** `frontend/src/components/Map/Map.tsx`  
**–°—Ç—Ä–æ–∫–∏ 552-562:**

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```typescript
// –ö–†–ò–¢–ò–ß–ù–û: –£–¥–∞–ª—è–µ–º –≥—Ä—É–ø–ø—É –∫–ª–∞—Å—Ç–µ—Ä–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—É—é —Ñ–∞—Å–∞–¥–æ–º, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å
// –§–∞—Å–∞–¥ —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ—é –≥—Ä—É–ø–ø—É –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ (leafletAdapter.ts:44), –Ω–æ –º—ã —Å–æ–∑–¥–∞–µ–º —Å–≤–æ—é –≤ Map.tsx
map.eachLayer((layer: any) => {
  if (layer && typeof layer.getLayers === 'function' && layer !== markerClusterGroupRef.current) {
    try {
      map.removeLayer(layer);
    } catch (e) {}
  }
});
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –≥—Ä—É–ø–ø–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
- ‚úÖ –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏
- ‚úÖ –ú–∞—Ä–∫–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

## üìä –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–û–°–õ–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –ï–¥–∏–Ω—ã–π —Ñ–∞—Å–∞–¥ –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ä—Ç

```
mapFacade (index.tsx)
  ‚îú‚îÄ‚îÄ initializeMap()
  ‚îÇ   ‚îú‚îÄ‚îÄ provider: 'leaflet' ‚Üí leafletAdapter.initializeLeaflet()
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ –°–æ–∑–¥–∞–µ—Ç –∫–∞—Ä—Ç—É + tileLayer (OpenStreetMap) + –≥—Ä—É–ø–ø—É –∫–ª–∞—Å—Ç–µ—Ä–æ–≤
  ‚îÇ   ‚îú‚îÄ‚îÄ provider: 'yandex' ‚Üí createFacadeApp() (React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
  ‚îÇ   ‚îî‚îÄ‚îÄ provider: 'mapsgl' ‚Üí mapsglAdapter.initializeMapsGL()
  ‚îÇ
  ‚îú‚îÄ‚îÄ getMap() ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–∞—Ä—Ç—ã
  ‚îú‚îÄ‚îÄ addMarker() ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç –º–∞—Ä–∫–µ—Ä —á–µ—Ä–µ–∑ —Ñ–∞—Å–∞–¥
  ‚îú‚îÄ‚îÄ drawRoute() ‚Üí —Ä–∏—Å—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç —á–µ—Ä–µ–∑ —Ñ–∞—Å–∞–¥
  ‚îî‚îÄ‚îÄ clear() ‚Üí –æ—á–∏—â–∞–µ—Ç –∫–∞—Ä—Ç—É —á–µ—Ä–µ–∑ —Ñ–∞—Å–∞–¥
```

### Map.tsx –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¢–û–õ–¨–ö–û —Ñ–∞—Å–∞–¥

```
Map.tsx
  ‚îú‚îÄ‚îÄ mapFacade.initializeMap() ‚Üí –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  ‚îú‚îÄ‚îÄ mapFacade.getMap() ‚Üí –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
  ‚îú‚îÄ‚îÄ –ó–∞–º–µ–Ω–∞ tileLayer (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) ‚Üí –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Leaflet (–Ω–æ –∫–∞—Ä—Ç–∞ –æ—Ç —Ñ–∞—Å–∞–¥–∞)
  ‚îú‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ ‚Üí –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ Leaflet (–Ω–æ –∫–∞—Ä—Ç–∞ –æ—Ç —Ñ–∞—Å–∞–¥–∞)
  ‚îî‚îÄ‚îÄ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ø–∞–ø–æ–≤ ‚Üí —á–µ—Ä–µ–∑ React root –≤ Leaflet –ø–æ–ø–∞–ø–∞—Ö
```

---

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. ‚úÖ **OpenStreetMap –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è** - –∫–∞—Ä—Ç–∞ –≤–∏–¥–Ω–∞ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
2. ‚úÖ **–ï–¥–∏–Ω—ã–π —Ñ–∞—Å–∞–¥** - –≤—Å–µ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ `mapFacade/index.tsx`
3. ‚úÖ **–ù–µ—Ç –æ–±—Ö–æ–¥–æ–≤ —Ñ–∞—Å–∞–¥–∞** - —É–±—Ä–∞–Ω fallback –Ω–∞ –ø—Ä—è–º–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã
4. ‚úÖ **–ú–∞—Ä–∫–µ—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è** - –∫–ª–∞—Å—Ç–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. ‚úÖ **–ü–æ–ø–∞–ø—ã —Ä–∞–±–æ—Ç–∞—é—Ç** - —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã
6. ‚úÖ **–ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** - –æ–¥–Ω–∞ –≥—Ä—É–ø–ø–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤, –æ–¥–∏–Ω tileLayer

### –ß—Ç–æ –≤–∏–¥–Ω–æ –Ω–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:

- ‚úÖ –ö–∞—Ä—Ç–∞ OpenStreetMap –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –í–∏–¥–Ω—ã –∫–ª–∞—Å—Ç–µ—Ä—ã –º–∞—Ä–∫–µ—Ä–æ–≤ (636, 63, 148, 9, 3)
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—ã –∑—É–º–∞ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞ –º–µ—Å—Ç–µ
- ‚úÖ –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–∞ –º–µ—Å—Ç–µ

---

## üîë –ö–õ–Æ–ß–ï–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

**–°–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:**

```typescript
// –í leafletAdapter.ts –î–û–ë–ê–í–õ–ï–ù–û:
const defaultTileLayer = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '¬© OpenStreetMap contributors',
  maxZoom: 19,
  subdomains: 'abc'
});
defaultTileLayer.addTo(map);
```

**–≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä–Ω—É–ª–æ –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–∞—Ä—Ç—ã!**

---

## üìù –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–¢–ö–ò

1. **–§–∞—Å–∞–¥ - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞** –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
2. **leafletAdapter –í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–µ—Ç tileLayer** - —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ!
3. **Map.tsx –ù–ï –æ–±—Ö–æ–¥–∏—Ç —Ñ–∞—Å–∞–¥** - –≤—Å–µ —á–µ—Ä–µ–∑ —Ñ–∞—Å–∞–¥
4. **–ü–æ–ø–∞–ø—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏** - —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–∞—Ä—Ç—ã
5. **–û–¥–Ω–∞ –≥—Ä—É–ø–ø–∞ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤** - —É–¥–∞–ª—è–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã –æ—Ç —Ñ–∞—Å–∞–¥–∞

---

## üéâ –ò–¢–û–ì

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞!** –ö–∞—Ä—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, OpenStreetMap –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π —Ñ–∞—Å–∞–¥.

**–í—Ä–µ–º—è —Ä–µ—à–µ–Ω–∏—è:** 6 –¥–Ω–µ–π –ø–æ–∏—Å–∫–∞ ‚Üí 1 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ = –†–ê–ë–û–¢–ê–ï–¢!

